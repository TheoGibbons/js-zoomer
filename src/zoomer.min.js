let Zoomer=function(e){return{init:function(){e(".zoomer-container").each(function(){let o=1,t=e(this),n=t.find("img"),i=.5,r=.5,l=!1,c=0,f=1;function a(){let e=t.width(),o=t.height(),i;return Math.min(e/n.width(),o/n.height())}function m(){let e;l&&(o=Math.min(20,Math.max(e=a(),o)),t.css({backgroundColor:o===e?"":"#f7f7f7"}),t.css({cursor:o===e?"zoom-in":"zoom-out"}),n.css({transform:"scale("+o+")"}),function e(){let l=t.width(),c=t.height(),f=n.width()*o,a=n.height()*o,m,u;if(i=Math.min(1,Math.max(0,i)),r=Math.min(1,Math.max(0,r)),a<=c)m=(c-a)/2;else{let h=c-a;m=h-(h+(0-h)*r)}if(f<=l)u=(l-f)/2;else{let s=l-f;u=s-(s+(0-s)*i)}n.css({top:m+"px",left:u+"px"})}())}t.off("mousemove.zoomer touchmove.zoomer").on("mousemove.zoomer touchmove.zoomer",function(e){e.preventDefault();let o=t.offset().left,n=t.offset().top,l,c;"mousemove"===e.type?(l=e.pageX-o,c=e.pageY-n):"touchmove"===e.type&&(l=e.originalEvent.touches[0].pageX-o,c=e.originalEvent.touches[0].pageY-n),i=l/t.width(),r=c/t.height(),m()}).off("click.zoomer").on("click.zoomer",function(e){e.preventDefault();let n=a(t);o=o===n?5:n,m()}).off("wheel.zoomer").on("wheel.zoomer",function(e){e.preventDefault();let t=e.originalEvent.deltaY||-e.originalEvent.detail;o*=t=t>0?.9:1.1,m()}).off("touchstart.zoomer").on("touchstart.zoomer",function(e){if(2===e.originalEvent.touches.length){let t=e.originalEvent.touches[0],n=e.originalEvent.touches[1];c=Math.sqrt(Math.pow(n.pageX-t.pageX,2)+Math.pow(n.pageY-t.pageY,2)),f=o}}).off("touchmove.zoomer").on("touchmove.zoomer",function(e){if(2===e.originalEvent.touches.length){let t=e.originalEvent.touches[0],n=e.originalEvent.touches[1];o=f*(Math.sqrt(Math.pow(n.pageX-t.pageX,2)+Math.pow(n.pageY-t.pageY,2))/c),m()}});let u=function(){l=!0,m()};n[0].complete?u():n.on("load",u),e(window).resize(m)})}}}(jQuery);jQuery(Zoomer.init);