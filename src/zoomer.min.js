let Zoomer=function(o){return{init:function(){o(".zoomer-container").each(function(){let e=1,t=o(this),n=t.find("img"),i=.5,r=.5,l=!1,c=0,f=1;function a(){let o=t.width(),e=t.height(),i;return Math.min(o/n.width(),e/n.height())}function m(){let o;l&&(e=Math.min(20,Math.max(o=a(),e)),t.css({backgroundColor:e===o?"":"#f7f7f7"}),t.css({cursor:e===o?"zoom-in":"zoom-out"}),n.css({transform:"scale("+e+")"}),function o(){let l=t.width(),c=t.height(),f=n.width()*e,a=n.height()*e,m,u;if(i=Math.min(1,Math.max(0,i)),r=Math.min(1,Math.max(0,r)),a<=c)m=(c-a)/2;else{let h=c-a;m=h-(h+(0-h)*r)}if(f<=l)u=(l-f)/2;else{let g=l-f;u=g-(g+(0-g)*i)}n.css({top:m+"px",left:u+"px"})}())}t.off("mousemove.zoomer touchmove.zoomer").on("mousemove.zoomer touchmove.zoomer",function(o){o.preventDefault();let e=t.offset().left,n=t.offset().top,l,c;"mousemove"===o.type?(l=o.pageX-e,c=o.pageY-n):"touchmove"===o.type&&(l=o.originalEvent.touches[0].pageX-e,c=o.originalEvent.touches[0].pageY-n),i=l/t.width(),r=c/t.height(),m()}).off("click.zoomer").on("click.zoomer",function(o){o.preventDefault();let n=a(t);e=e===n?5:n,m()}).off("wheel.zoomer").on("wheel.zoomer",function(o){o.preventDefault();let t=o.originalEvent.deltaY||-o.originalEvent.detail;e*=t=t>0?.9:1.1,m()}).off("touchstart.zoomer").on("touchstart.zoomer",function(o){if(2===o.originalEvent.touches.length){let t=o.originalEvent.touches[0],n=o.originalEvent.touches[1];c=Math.sqrt(Math.pow(n.pageX-t.pageX,2)+Math.pow(n.pageY-t.pageY,2)),f=e}}).off("touchmove.zoomer").on("touchmove.zoomer",function(o){if(2===o.originalEvent.touches.length){let t=o.originalEvent.touches[0],n=o.originalEvent.touches[1];e=f*(Math.sqrt(Math.pow(n.pageX-t.pageX,2)+Math.pow(n.pageY-t.pageY,2))/c),m()}});let u=function(){l=!0,m()};n[0].complete?u():n.on("load",u)})}}}(jQuery);jQuery(Zoomer.init);